# By convention, the first pseudorule should be called "all"
# We're using the expand() function to create multiple targets
rule all:
	input:
		expand(
			"iter-{iter}/hello-mpi-operator.out",
			iter = ['1', '2'],
		),

rule hello:
	output:
		"{iter}/hello-mpi-operator.out",
	resources: 
		kueue_operator="mpi-operator"
	shell:
		"""
		mkdir -p "{wildcards.iter}"
		echo "hello-flux-operator!" > {output}
		"""